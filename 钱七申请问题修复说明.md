# 钱七申请审批问题修复

## 问题描述
- ✅ 海风的待审批列表中没有钱七的申请了（修复成功）
- ❌ 赵六的待审批列表中也看不到钱七的申请（新问题）

## 问题分析

### 1. 员工关系确认
从员工关系数据可以确认：
- **赵六** (`550e8400-e29b-41d4-a716-446655440013`) 是组长
- **钱七** (`550e8400-e29b-41d4-a716-446655440014`) 是员工
- **钱七** 的 `supervisor_id` 指向 **赵六**
- 两人都在销售部团队

### 2. 可能的原因
1. **申请状态值不匹配** - 钱七的申请状态可能不是 `waiting_leader`
2. **申请不存在** - 钱七可能没有提交申请
3. **团队结构问题** - 赵六可能没有对应的团队记录
4. **状态过滤器问题** - 查询条件可能过于严格

## 修复内容

### 1. 增强了状态过滤器
修改了 `getSubordinateExpenses` 方法，支持多种状态值：
```javascript
if (filters.status === 'waiting_leader') {
  // 待组长审批的状态可能是多种值
  query = query.in('status', ['waiting_leader', 'pending', '待审批', '待审核'])
}
```

### 2. 创建了诊断工具
- `检查赵六团队.sql` - 检查赵六的团队结构和下级员工
- `检查钱七申请状态.sql` - 检查钱七的申请记录

## 调试步骤

### 1. 运行SQL脚本
运行 `检查赵六团队.sql` 和 `检查钱七申请状态.sql` 来确认：
- 赵六是否有团队记录
- 钱七是否被正确识别为赵六的下级
- 钱七是否有申请记录
- 申请的状态值是什么

### 2. 查看控制台输出
刷新赵六的页面，查看控制台输出：
- `getSubordinateExpenses 调试` - 查看下级员工数量
- `应用状态过滤器` - 查看状态过滤条件
- `查询结果` - 查看查询到的记录

## 预期结果
修复后，赵六的待审批列表应该显示钱七的申请（如果钱七确实有提交申请）。

## 下一步
1. 运行SQL脚本检查数据
2. 刷新页面查看控制台输出
3. 根据调试信息进一步修复问题
