# 赵六团队问题修复 - 执行指南

## ❌ 当前错误
```
ERROR: 22P02: invalid input syntax for type uuid: "钱七的用户ID"
```
**原因**: 使用了占位符文本而不是实际的UUID值

## 🔧 正确的修复步骤

### 第一步: 查找钱七的用户ID
在Supabase SQL编辑器中执行：
```sql
SELECT id, name, role, team_id FROM users WHERE name LIKE '%钱%' OR name LIKE '%7%' OR name LIKE '%qi%';
```
**记录结果**: 钱七的用户ID (例如: `12345678-1234-1234-1234-123456789abc`)

### 第二步: 查看赵六的团队ID
```sql
SELECT id, name, leader_id FROM teams WHERE leader_id = '550e8400-e29b-41d4-a716-446655440013';
```

### 第三步: 如果团队不存在，创建团队
```sql
INSERT INTO teams (id, name, leader_id, created_at)
VALUES (gen_random_uuid(), '赵六团队', '550e8400-e29b-41d4-a716-446655440013', NOW());
```

### 第四步: 获取新创建的团队ID
```sql
SELECT id FROM teams WHERE leader_id = '550e8400-e29b-41d4-a716-446655440013';
```
**记录结果**: 团队ID (例如: `87654321-4321-4321-4321-cba987654321`)

### 第五步: 分配钱七到赵六的团队
**重要**: 使用实际的UUID值替换占位符
```sql
-- 替换为实际的UUID值
UPDATE users SET team_id = '实际的团队UUID' WHERE id = '钱七的实际用户UUID';
```

**示例**:
```sql
UPDATE users SET team_id = '87654321-4321-4321-4321-cba987654321' WHERE id = '12345678-1234-1234-1234-123456789abc';
```

### 第六步: 验证修复结果
```sql
SELECT 
    u.name as user_name,
    u.role,
    t.name as team_name,
    t.leader_id
FROM users u
LEFT JOIN teams t ON u.team_id = t.id
WHERE u.name LIKE '%钱%' OR t.leader_id = '550e8400-e29b-41d4-a716-446655440013';
```

## ✅ 预期结果
执行完成后，应该看到：
- 赵六有一个名为"赵六团队"的团队
- 钱七的 `team_id` 指向赵六的团队
- 验证查询显示正确的团队关系

## 🎯 验证修复
1. 刷新组长管理页面
2. 查看控制台日志，`subordinateIds` 应该不再是空数组
3. 赵六应该能看到钱七的客户李四
4. "团队客户" 页面应该显示李四

## 📝 注意事项
- 每次只执行一个SQL语句
- 复制实际的UUID值，不要使用占位符文本
- 确保UUID格式正确（包含连字符）
- 如果某步出错，检查上一步的结果

